# 定义产品物模型 {#task_lws_ktf_vdb .task}

本章节介绍产品创建完成后，给产品设置功能的详细操作步骤。

创建高级版的产品时，如果选择了设备类型，功能列表中将自动创建好该类设备的标准功能。

此处以智能喷灌为例，创建以下功能：

-   属性功能：电源开关
-   服务功能：自动喷灌
-   事件功能：故障上报

1.   在产品管理页面，单击智能喷灌产品后的**查看**。 

    系统显示产品信息页面。

2.   选择功能定义，单击**新增**。 

    系统显示添加功能页面，如[图 1](#fig_mzw_zgg_vdb)所示。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2000_zh-CN.png "定义属性")

3.   创建电源开关属性功能。 

    -   功能类型：此处选择属性。
    -   功能名称：此处设置为电源开关，可自定义。
    -   标识符：此处设置为PowerSwitch，可自定义。

        **说明：** 同一产品功能名称和标识符必须唯一。

    -   数据类型：此处选择bool布尔型数据。
    -   布尔值：填写对应的布尔描述。

        如设备上报时，0表示关闭，1表示开启。

    -   读写类型：此处选择读写，支持上报开关状态和远程控制。
4.   在功能定义页面，单击**新增**，创建自动喷灌服务功能，如[图 2](#fig_ilh_k3g_vdb)所示。 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2010_zh-CN.png "自动喷灌")

    1.   设置服务功能基本信息。 

        -   功能类型：此处选择服务。
        -   功能名称：此处设置为自动喷灌，可自定义。
        -   标识符：此处设置为AutoSprinkle，可自定义。

            **说明：** 同一产品功能名称和标识符必须唯一。

        -   调用方式：此处选择为异步调用。
    2.   单击输入参数后的**新增参数**。 

        需要为自动喷灌服务添加两个入参，分别为喷灌时间和灌溉量，即每次调用自动喷灌服务时，需要传入本次灌溉所需的喷灌时间和水量，以便于实现精准灌溉。

        系统显示新增参数页面，如[图 3](#fig_jtf_1kg_vdb)所示。

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2019_zh-CN.png "喷灌时间参数")

    3.   设置喷灌时间参数。 

        -   参数名称：此处设置为喷灌时间，可自定义。
        -   标识符：此处设置为SprinkleTime，可自定义。
        -   数据类型：此处设置为int32。
        -   取值范围：此处设置为0~60，用户可自定义。
        -   单位：此处设置为分钟/min，表示可设置每0~60分钟自动喷灌一次。
    4.   设置喷灌量参数，如[图 4](#fig_vvy_nlg_vdb)所示。 

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2027_zh-CN.png "喷灌量参数")

        -   参数名称：此处设置为喷灌量，可自定义。
        -   标识符：此处设置为SprinkleVolume，可自定义。
        -   数据类型：此处设置为int32。
        -   取值范围：此处设置为0~1000，可自定义。
        -   单位：此处设置为毫升/mL，表示每次自动喷灌的水量可设置为0~1000mL之间。
    5.   单击**确定**。 

        服务支持返回参数，可单击输出参数后的**新增参数**进行添加，此案例不需要输出参数，所以不做演示。

5.   在功能定义页面，单击**新增**，创建故障上报事件功能，如[图 5](#fig_bdh_yrh_vdb)所示。 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2117_zh-CN.png "故障上报")

    1.   设置故障上报基础参数。 

        -   功能类型：此处选择事件。
        -   功能名称：此处设置为故障上报。
        -   标识符：此处设置为ErrorCode，可自定义。
        -   事件类型：此处选择为故障。
    2.   单击输出参数后的**新增参数**，设置设备上报故障事件时，携带的故障错误码，如[图 6](#fig_tbk_35h_vdb)所示。 

        ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2118_zh-CN.png "故障代码")

        -   参数名称：此处设置为故障代码，可自定义。
        -   标识符：此处设置为ErrorCode。
        -   数据类型：此处设置为enum。
        -   枚举项：自定义不同故障发生时，返回的参数值，如此处设置0表示电压异常，1表示电流过大，2表示网络故障。
6.   返回功能定义页面，可查看定义的智能喷灌产品的功能，如[图 7](#fig_cfd_tvh_vdb)所示。 

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/12787/2119_zh-CN.png "功能定义")

7.   单击**查看物模型**，查看物联网平台根据产品的功能定义，自动生成的该产品的物模型。 
8.   单击**导出模型文件**，可将model.json格式的物模型文件导出到本地，配置设备的需要使用。 

