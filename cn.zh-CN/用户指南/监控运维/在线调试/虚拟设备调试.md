# 虚拟设备调试 {#task_nfz_212_qgb .task}

物联网平台提供虚拟设备功能，供云端应用开发测试使用。使用虚拟设备可调试：上报属性、上报事件、设置属性和调用服务。并且，虚拟设备调试支持数据格式为透传/自定义的设备。

物联网正常开发流程是：设备端开发完成，设备上报数据，云端接收数据，云端开始开发工作。这样的开发流程战线较长，耗时较久。物联网平台提供虚拟设备功能，虚拟设备模拟真实设备与物联网平台建立连接，上报属性及事件处理。您可以根据虚拟设备的数据，完成应用的开发调试。

使用限制：

-   连续推送的最小时间间隔为1秒。
-   最多连续推送1000条消息。
-   每天最多可使用100次**推送**按钮推送调试信息。
-   如果设备的数据格式为透传/自定义，输入二进制数据Base64编码后的字符串，长度不超过4096字符。
-   真实设备在线或设备被禁用时，不能启动虚拟设备。真实设备上线后，虚拟设备会自动下线。

1.  登录[物联网平台控制台](http://iot.console.aliyun.com/)。
2.  在左侧导航栏，选择**监控运维** \> **在线调试**。
3.  在**在线调试**页，选择本次调试的设备。 

    选择设备后，页面会自动跳转至调试设置页。

4.  单击**调试虚拟设备** \> **启动虚拟设备**。
5.  推送调试指令。 

    ![虚拟设备调试](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/17811/156868403542138_zh-CN.png)

    |调试项目|操作步骤|
    |----|----|
    |上报属性|     1.  单击**属性上报**。
    2.  在属性对应的输入框中，输入属性值。

可输入符合属性数据类型和取值范围的值，或使用random\(\)函数生成随机值。

    3.  推送指令。

可选择推送方式：

        -   **推送**：立即推送数据。
        -   **策略推送**： 设置推送策略。
            -   定时推送：在设置好的时间推送数据，仅推送一次。
            -   连续推送：在设置好的时间段内，按照固定时间间隔，推送数据。时间间隔单位为秒。
 |
    |上报事件|     1.  单击**事件上报**。
    2.  在事件对应的输入框中，输入事件值。

可输入符合事件数据类型和取值范围的值，或使用random\(\)函数生成随机值。

    3.  **策略推送**： 设置推送策略。
        -   定时推送：在设置好的时间推送数据，仅推送一次。
        -   连续推送：在设置好的时间段内，按照固定时间间隔，推送数据。时间间隔单位为秒。
 |
    |设置属性|从云端下发设置属性值的指令给设备。设备收到指令后，设置属性值，并将最新属性值上报给云端。     1.  单击**属性设置**。
    2.  从**调试功能**选项表中，选择要调试的属性，并选择方法为**设置**。

选择完成后，输入框中将自动显示该属性的数据格式，如`{"Temperature":0}`。

    3.  设置一个属性值，单击**发送指令**。
 |
    |获取属性|从设备上获取指定属性的值。     1.  单击**属性设置**。
    2.  从**调试功能**下拉选项中，选择要调试的属性，并选择方法为**获取**。
    3.  单击**发送指令**。

**说明：** 调试获取属性时，无需在输入框中输入任何数据。

 指令发送成功后，输入框中将显示获取到的最新属性数据。如果设备上没有该属性的数据，则数据为空。

 |
    |调用服务|     1.  单击**服务调用**。
    2.  从**调试功能**下拉选项中，选择要调试的服务。
    3.  在输入框中，输入调用服务的入参，单击**发送指令**。

输入的服务入参数据，需为标准的JSON格式，如`{"Switch":0}`。

 |


推送数据后，可在页面右侧**实时日志**下查看操作日志。

数据推送成功后，可前往设备的设备详情页。在运行状态页签下，查看设备上报的属性信息；在事件管理页签下，查看上报的事件信息。在服务调用页签下，查看服务调用记录。

**说明：** 选择**策略推送**时，在设定的时间推送数据后，相应的页面上才会显示对应日志、属性或事件信息。

