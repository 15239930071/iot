# Device log {#concept_a32_x4w_f2b .concept}

IoT Platform provides the log service function. You can query device log entries on the Device Log page in the IoT Platform console. This topic describes the error codes in the device log entries and the corresponding troubleshooting methods.

## Query device log entries {#section_z51_fsw_f2b .section}

Log entries can be divided into the following types:

-   [Device activity analysis](#)
-   [Upstream analysis](#)
-   [Downstream analysis](#)
-   [TSL data analysis](#)

To query device log entries, follow these steps:

1.  Log on to the [IoT Platform console](https://iot.console.aliyun.com).
2.  In the left-side navigation pane, choose **Maintenance** \> **Device Log**.
3.  Select a product, log type, set filters such as device name, and then click **Search**.

    The following filters are available:

    |Filter|Description|
    |:-----|:----------|
    |Device name|Enter a device name. You can search the log entries of the device with the specified name.|
    |Keywords|Enter keywords to search for the specified log entries.|
    |Message ID|Enter a message ID. A Message ID is a unique identifier generated by IoT Platform for a message. You can query the forwarding status and content of a message based on its message ID.|
    |Status|Select a status to search for specific log entries. Valid options:     -   All
    -   Successful
    -   Failed
 |
    |Time range|Select a time range.|


**Note:** Among all status codes of log entries, a value of 200 indicates that the request is successful, and other values indicate that the request has failed. For more information about the failed status codes, see the following sections.

## Device activity analysis logs {#section_aq2_ksw_f2b .section}

Device activities can generate device connection and disconnection logs.

|Error code|Description|Cause|Troubleshooting|
|----------|:----------|:----|:--------------|
|400|A request error occurs.|This error may be caused by one of the following: -   The device is disconnected because another device is connected to IoT Platform using the same device certificate.

IoT Platform identifies a device based only on the device certificate information \(productKey, deviceName, and deviceSecret\).

Possible causes include:

    -   The same device certificate is installed on multiple devices.
    -   The network or power supply of the device is unstable. The device is reconnected to IoT Platform immediately after an abrupt network outage or power failure. In this case, IoT Platform identifies the device that is reconnected as a new device.
-   The device has been deleted from IoT Platform.
-   The device has been disabled on IoT Platform.

 | -   Go to the corresponding Device Details page in the IoT Platform console to view the time next to **activated At**, that is the activation time. Then, determine whether another device uses the same device certificate to connect to IoT Platform based on the activation time.
-   In the Device List section of the Devices page, search for the device to check whether the device is deleted.
-   In the IoT Platform console, check whether the status of the corresponding device is displayed as **Disabled**.

 |

## Upstream and downstream analysis logs {#section_zpr_ksw_f2b .section}

-   Upstream message logs are generated when any of the following occasions occurs: a device publishes messages to topics, messages are forwarded to the rules engine, and the rules engine data forwarding function forwards messages to other topics or other Alibaba Cloud services.
-   Downstream message logs are generated when messages are sent to devices from the cloud.

|Error code|Description|Cause|Troubleshooting|
|----------|:----------|:----|:--------------|
|1901|The message fails to be sent due to poor network conditions, such as the congestion of the TCP write buffer.|The data channel between the device and the server is blocked. The block may be due to the slow network transmission speeds, or because the device cannot handle any more messages.|Check network conditions and device message consumption capabilities.|
|1902|When the message is transmitted over the network, an exception occurs.|The sending failure is caused by a network exception.|Check network conditions.|
|1903|The format of the topic is invalid.|The format of the message topic is invalid.|Check the topic format.|
|1904|IoT Platform receives an invalid RRPC response.|The RRPC response received by IoT Platform does not have the corresponding RRPC request. This error may occur if the request times out.|Check the RRPC response from the device to determine whether the RRPC request has timed out.|
|1905|IoT Platform does not receive any RRPC response before the timeout timer expires.|After IoT Platform sends a RRPC request to the device, IoT Platform does not receive any RRPC response from the device before the timeout timer expires.|View the log entry on the device to check whether the RRPC request received by the device has been responded.|
|1950|When the message is transmitted over the network, a network connection exception occurs.|The sending failure is caused by a network exception.|Check the network status.|
|1951|Unknown response type.|The device sends an unknown message to IoT Platform.|Check the type of the message that is sent by the device. If you are using the Alibaba Cloud device SDK, contact Customer Service or submit a ticket.|
|9200|The device is inactive.|The device is not activated on IoT Platform. After a new device is registered, the device is activated only after it is connected to IoT Platform and reports data to IoT Platform.|Check the status of the device in the IoT Platform console.|
|9201|The device is disconnected.|The device is disconnected from IoT Platform.|Check the status of the device in the IoT Platform console.|
|9236|Topic authentication fails.|The permission of the topic that is used to publish or subscribe to messages does not match.|Go to the Topic List tab page of the device in the IoT Platform console, and make sure that the topic permission is correct. The topic used to publish messages must be granted the Publish permission. The topic used to subscribe to messages must be granted the Subscribe permission.|
|9324|A throttling error occurs.|The requests from the device or the tenant are too many.|Reduce the frequency of message sending, or contact Customer Service.|
|9321|The parameters are invalid.|The input request parameters are invalid.|Check the corresponding parameter settings as prompted.|
|9320|The payload is invalid.|The format of the payload sent by the device is invalid.|Check whether the payload format is standard.|
|9331|An internal error occurs with the destination cloud service.|An internal error occurs with the cloud service for which the message is destined.|Based on the error code in the log entry, go to the official website of the corresponding cloud service to troubleshoot the error or contact Customer Service.|
|9332|The cloud service configuration is invalid.|You specify an invalid forwarding destination configuration when you configure message forwarding. As a result, an error occurs when IoT Platform connects to the destination cloud service.|View the data forwarding rule to check whether the configuration of the data destination is correct and whether the resource exists. Based on the error code in the log entry, go to the official website of the corresponding cloud service to troubleshoot the error.|
|9333|A cloud service authorization error occurs.|IoT Platform may be granted incorrect permissions to access the destination cloud service.|Check your Alibaba Cloud RAM authorization policy.|
|9399|An unknown internal server error occurs.|IoT Platform has an internal error.|Contact Customer Service or submit a ticket.|

## TSL data analysis logs {#section_jrk_wgz_nfb .section}

TSL data analysis logs are generated for the following operations: property or event reporting, property setting, service calling, and responding to property or service calls.

If the data format is Do not parse/Custom, in addition to the log content, the hexadecimal raw data is also displayed.

**Log format description**

|Parameter|Description|
|:--------|:----------|
|id|The ID of the Alink protocol message. This ID is used to identify messages exchanged between the device and IoT Platform.|
|params|The request parameters.|
|code|The returned result code.|
|method|The request method.|
|type|The message type. Valid values include upstream and downstream.|
|scriptData|The input and output parameters in the data parsing when the data format is Do not parse/Custom.|
|downOriginalData|The original downstream Alink JSON data that requires parsing when the data format is Do not parse/Custom.|
|downTransformedData|The downstream data after parsing when the data format is Do not parse/Custom.|
|upOriginalData|The original upstream data that requires parsing when the data format is Do not parse/Custom.|
|upTransformedData|The upstream Alink JSON data after parsing when the data format is Do not parse/Custom.|

 **Error codes about service call and property setting failures** 

When a service is called, IoT Platform checks whether the input parameters of the service comply with the definition of the service in the TSL model.

|Error code|Description|Cause|Troubleshooting|
|----------|-----------|-----|---------------|
|9201|The device is disconnected.|The device is disconnected from IoT Platform.|Check the device status in the IoT Platform console.|
|9200|The device is not activated.|The device is not activated on IoT Platform. A newly registered device must report data to IoT Platform to be activated.|Check the device status in the IoT Platform console.|
|6208|The device has been disabled.|After a device is disabled, you cannot set the properties or call the services.|Check the device status in the IoT Platform console. If the device is disabled, enable the device and then try the operation again.|
|6300|The method parameter is not found when the system verifies the input parameters based on the TSL model.|The method parameter, which is required by the Alink protocol, is not found in the Alink \(standard\) data reported by the device or in the parsed data of the custom \(do not parse\) data reported by the device.|View the property reporting log entry in the IoT Platform console and check the reported data. You can also view the log entry on the device to check the reported data.|
|6206|An error occurs when IoT Platform queries the service definition.|The service is not found.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Check whether the service is defined in the TSL model. If the service is defined, verify that the input parameters of the service are the same as those defined in the TSL model.|
|6200|The script does not exist.|If the data format of the device is Do not parse/Custom, the script will be used to parse the data when IoT Platform calls the service. This error code is returned if you do not define a parsing script.|Go to the corresponding Product Details page in the IoT Platform console, and check whether the parsing script exists. If the parsing script exists, resubmit the script and then try the operation again.|
|6201|The parsing result is empty.|The parsing script runs correctly, but returns an empty result. For example, the response of rawDataToProtocol is null, or the response of protocolToRawData is null or empty.|Check the script content to identify the cause.|
|6207|The data format is incorrect.| This error may occur when IoT Platform calls the service synchronously or when the device reports data.

 When IoT Platform calls the service synchronously, possible causes include the following:

 -   The format of the data returned by the device is incorrect.
-   The parsed data format is incorrect if the data format is Do not parse/Custom.
-   The data format of the service is incorrect.

 |To view the valid data format required by the service, see [API documentation](../../../../reseller.en-US/Developer Guide (Cloud)/API reference/Overview.md#) and the TSL model. To view the corresponding Alink JSON format, see [Alink protocol documentation](../../../../reseller.en-US/Developer Guide (Devices)/Develop devices based on Alink Protocol/Communications over Alink protocol.md#).|
|**Error codes about system exceptions**|
|5159|An error occurs when the system obtains the property information from the TSL model.|A system exception occurs.|Submit a ticket in the console.|
|5160|An error occurs when the system obtains the event information from the TSL model.|
|5161|An error occurs when the system obtains the service information from the TSL model.|
|6661|An error occurs when the system queries the tenant information.|
|6205|An error occurs when IoT Platform calls the service.|

 **Error codes about property and event report failures** 

When a device is reporting a property or an event, the property or the event will be verified based on the TSL model of the device.

|Error code|Description|Cause|Troubleshooting|
|----------|-----------|-----|---------------|
|6106|The number of the reported properties exceeds the upper limit.|A device can report up to 200 properties at one time.|View the property reporting log entry in the IoT Platform console and check the number of the reported properties. You can also view the log entry on the device to check the number of the reported properties.|
|6300|The method parameter is not found when the system verifies the input parameters based on the TSL model.|The method parameter, which is required by the Alink protocol, is not found in the Alink \(standard\) data reported by the device or in the parsed data of the custom \(do not parse\) data reported by the device.|View the property reporting log entry in the IoT Platform console and check the reported data. You can also view the log entry on the device to check the reported data.|
|6320|The property information is not found when the system verifies the input parameters based on the TSL model.|The specified property is not found in the TSL model of the device.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Check whether the specified property is defined in the TSL model. If the property is not defined, define the property.|
|6450|The method does not exist in the Alink JSON formatted data.|The method parameter is not found in the Alink standard data reported by the device or in the parsed data of the custom \(do not parse\) data reported by the device.|View the property reporting log entry in the IoT Platform console and check whether the method parameter is included in the data reported by the device. You can also view local device logs.|
|6207|The data format is incorrect.| This error may occur when IoT Platform calls the service synchronously or when the device reports data.

 When the device reports data, the possible cause is that the Alink data reported by the device or the returned data after parsing is not in the JSON format.

 |See [Alink protocol documentation](../../../../reseller.en-US/Developer Guide (Devices)/Develop devices based on Alink Protocol/Communications over Alink protocol.md#) to view the valid data format, and then report data accordingly.|
|**Error codes about system exceptions**|
|6452|A throttling error occurs.|Traffic throttling is triggered because too many requests are submitted.|Submit a ticket in the console.|
|6760|The storage quota of the tenant is exceeded.|A system exception occurs.|Submit a ticket in the console.|

 **Error codes about response failures to service calls and property settings** 

|Error code|Description|Cause|Troubleshooting|
|----------|-----------|-----|---------------|
|**Common error codes**|
|460|The parameters are invalid.|The request parameters are invalid.|Submit a ticket in the console.|
|500|An internal system error occurs.|An unknown error occurs in the system.|Submit a ticket in the console.|
|400|A service request error occurs.|An unknown error occurs when IoT Platform calls the service.|Submit a ticket in the console.|
|429|Too many requests are submitted in a short period of time.|Traffic throttling is triggered because too many requests are submitted in a short period of time.|Submit a ticket in the console.|
|**Error codes about system exceptions**|
|6452|A throttling error occurs.|Traffic throttling is triggered because too many requests are submitted. **Note:** This error code may be returned if the data format of the device is Alink JSON.

 |Submit a ticket in the console.|

 **Common error codes about TSL models** 

When a service is being called or a device is reporting a property or an event, the input parameters of the service, the property, or the event will be verified based on the TSL model of the device.

|Error code|Description|Cause|Troubleshooting|
|----------|-----------|-----|---------------|
|6321|The identifier of the property is not found in the TSL model.|A system exception occurs.|Submit a ticket in the console.|
|6317|The TSL model is incorrect.|A system exception occurs.|Submit a ticket in the console.|
|6302|The parameters are not found.|When the system verifies the input parameters of the service, the required parameters are not found in the request.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Check the input parameters of the service in the TSL model and make sure that you have passed in all required parameters.|
|6306|The input parameter does not comply with the integer data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The parameter value is not in the range defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the parameter value is in the value range defined in the TSL model.|
|6307|The input parameter does not comply with the 32-bit float data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The parameter value is not in the range defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the parameter value is in the value range defined in the TSL model.|
|6322|The input parameter does not comply with the 64-bit float data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The parameter value is not in the range defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the parameter value is in the value range defined in the TSL model.|
|6308|The input parameter does not comply with the Boolean data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The parameter value is not in the range defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the parameter value is in the value range defined in the TSL model.|
|6309|The input parameter does not comply with the enum data specifications defined in the TSL model.|The data type of the parameter is different from the data type defined in the TSL model.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model.|
|6310|The input parameter does not comply with the text data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The length of the parameter exceeds the upper limit defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the parameter length does not exceed the upper limit.|
|6311|The input parameter does not comply with the date data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The input data is not a UTC timestamp.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the input data is a UTC timestamp.|
|6312|The input parameter does not comply with the struct data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The data type of the parameter is different from the data type defined in the TSL model.
-   The number of the parameters contained in a struct is different from the number defined in the TSL model.

 |Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is the same as the data type defined in the TSL model and that the number of the parameters contained in a struct is the same as the number defined in the TSL model.|
|6304|The input parameter is not found in the struct defined in the TSL model.|The input parameter is not found in the struct defined in the TSL model.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Check the input parameters with the TSL model for inconsistencies.|
|6324|The input parameter does not comply with the array data specifications defined in the TSL model.|When the system verifies a parameter based on the TSL model, the following errors may occur: -   The elements in the passed-in array do not match the array definition in the TSL model.
-   The number of elements in the array exceeds the maximum number defined in the TSL model.

 | -   Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Check the definition of the corresponding array for inconsistencies.
-   View the upstream log entry in the IoT Platform console to check the number of elements in the array data reported by the device.

 |
|6328|The value of the input parameter is not an array data.|The value of the input parameter is not an array data.|Go to the corresponding Product Details page in the IoT Platform console, and view the TSL model. Make sure that the data type of the input parameter is array.|
|6325|The element type in the array data is not supported by IoT Platform.|The element type is not supported. Only the following element types can be included in an array: int32, float, double, text, and struct.|Make sure that the element type is supported by IoT Platform.|
|**Error codes about system exceptions**|
|6318|A system exception occurs when the system parses the TSL model.|A system exception occurs.|Submit a ticket in the console.|
|6329|An error occurs when the system parses the array data specifications in the TSL model.|
|6323|The data specifications defined in the TSL model are incorrectly formatted.|
|6316|An error occurs when the system parses the parameters in the TSL model.|
|6314|The data type in the TSL model is not supported.|
|6301|An error occurs when the system verifies the data format of the input parameters based on the TSL model.|
|**Error codes about data parsing scripts**|
|26010|Traffic throttling is triggered because too many requests are submitted.|Too many requests are submitted in a short period of time.|Submit a ticket in the console.|
|26001|The content of the parsing script is empty.|The parsing script content is not found.|Go to the corresponding Product Details page in the IoT Platform console, and check your data parsing script. Make sure that the script is saved and submitted. The parsing script cannot be a draft.|
|26002|An exception occurs when you run the script.|The script runs correctly, but the script content is incorrect. For example, the script contains syntax errors.|Log on to the IoT Platform console, use the same parameters to run the script for debugging, and then modify the script accordingly. The console only provides a basic script running environment. It does not verify the script details. We recommend that you check your script carefully before you submit it.|
|26006|The required method is not found in the script.|The script runs correctly, but the script content is incorrect. The script must contain the protocolToRawData and rawDataToProtocol methods. If they are not found, this error will be reported.|Go to the corresponding Product Details page in the IoT Platform console, and make sure that the protocolToRawData and rawDataToProtocol methods are defined in the script.|
|26007|The returned data format is incorrect after data parsing.|The script runs correctly, but the data format of the returned result is incorrect. The script must contain the protocolToRawData and rawDataToProtocol methods. The result data of protocolToRawData must be byte\[\] array, and the result data of rawDataToProtocol must be jsonObj \(JSON object\). This error code is returned if the data format of the returned result does not match one of the defined data formats. For example, after a device reports data, the result is returned to the device. The returned result will also be parsed. If you have not defined protocolToRawData in the script, the returned data may be incorrect.|Check the script in the IoT Platform console. Enter the input parameters, run the script, and check whether the data format of the returned result is correct.|

