# QueryDevicePropertyData {#reference_q2q_krz_wdb .reference}

Use this operation to query the property records of a specified device.

## Request parameters {#section_s1v_mss_xdb .section}

|Name|Type|Required|Description|
|:---|:---|:-------|:----------|
|Action|String|Yes|The operation that you want to run. Set the value to QueryDevicePropertyData.|
|IotId|String|No| The device ID, which is the GUID for the device.

 **Note:** If you specify this parameter, then you do not need to specify ProductKey or DeviceName. As the GUID of the device, IotId corresponds to the combination of ProductKey and DeviceName. If you specify both IotId and the combination of ProductKey and DeviceName, then IotId is used.

 |
|ProductKey|String|No| Specifies the product key of the device.

 **Note:** If you specify this parameter, then you must also specify DeviceName.

 |
|DeviceName|String|No| Specifies the device name.

 **Note:** If you specify this parameter, you must also specify ProductKey.

 |
|Identifier|String|Yes|The property identifier that you want to query. To view the property identifier of the Pro Edition device, go to the Define Feature page of the Pro Edition product that the device belongs to in the console.|
|StartTime|Long|Yes|The start time of the property record. The value is a millisecond value.|
|EndTime|Long |Yes|The end time of the property record. The value is a millisecond value.|
|PageSize|Integer|Yes|Shows the number of items per page in the result.|
|Asc|Integer|Yes| The sorting order of the property records in returned results. Value: 

 0: Descending.

 1: Ascending.

 |

## Response parameters {#section_pyc_l5s_xdb .section}

|Name|Type|Description|
|:---|:---|:----------|
|RequestId|String|The GUID generated by Alibaba Cloud for the request.|
|Success|Boolean|Indicates whether the call is successful. A value of true indicates that the call is successful. A value of false indicates that the call has failed.|
|ErrorMessage|String|The error message returned when a call fails.|
|Data|Data|The device property record returned when a call succeeds. For more information, see [Data](#table_sdc_7592_xdb).|

|Name|Type|Description|
|:---|:---|:----------|
|List|List<PropertyInfo\>|The collection of properties. Each element represents a property. See [PropertyInfo](#table_z2b_7593_xdb) for element structure.|
|NextValid|Boolean |Indicates whether the next page is available. true indicates available, and false indicates unavailable.|
|NextTime|Long |The start time of the property record on the next page.|

|Name|Type|Description|
|:---|:---|:----------|
|Value|String|The property value.|
|Time|Long |The time when the property was modified.|

## Examples {#section_ty1_vvs_xdb .section}

**Request example**

```
https://iot.cn-shanghai.aliyuncs.com/?Action=QueryDevicePropertyData
&IotId=abcdef1234567************
&ProductKey=al*********
&PeviceName=device1
&Identifier=lightLevel
&StartTime=1516538300303L
&EndTime=1516541900303L
&PageSize=10
&Asc=1
&<common request parameters>
```

**Response example**

-   JSON format

    ```
    {
      "RequestId":"57b144cf-09fc-4916-a272-a62902d5b207",
      "Success": true，
      "Data": {
        "NextValid": true,
        "NextTime": 1516541821599,
        "List": {
          "PropertyInfo": [
            {
              "Value": "32",
              "Time": 1516541894876
            },
            {
              "Value": "2",
              "Time": 1516541885630
            },
            {
              "Value": "95",
              "Time": 1516541875947
            },
            {
              "Value": "14",
              "Time": 1516541830905
            },
            {
              "Value": "78",
              "Time": 1516541821600
            }
          ]
        }
      }
    }
    ```

-   XML format

    ```
    <? xml version='1.0' encoding='utf-8'? >
    <QueryDevicePropertyDataResponse>
        <RequestId>57b144cf-09fc-4916-a272-a62902d5b207</RequestId>
        <Success>true</Success>
        <Data>
            <NextValid>true</NextValid>
            <NextTime>1516541821599</NextTime>
            <List>
                <PropertyInfo>
                    <Value>32</Value>
                    <Time>1516541894876</Time>
                </PropertyInfo>
                <PropertyInfo>
                    <Value>2</Value>
                    <Time>1516541885630</Time>
                </PropertyInfo>
                <PropertyInfo>
                    <Value>95</Value>
                    <Time>1516541875947</Time>
                </PropertyInfo>
                <PropertyInfo>
                    <Value>69</Value>
                    <Time>1516541870871</Time>
                </PropertyInfo>
                <PropertyInfo>
                    <Value>14</Value>
                    <Time>1516541830905</Time>
                </PropertyInfo>
                <PropertyInfo>
                    <Value>78</Value>
                    <Time>1516541821600</Time>
                </PropertyInfo>
            </List>
        </Data>
    </QueryDevicePropertyDataResponse>
    ```


