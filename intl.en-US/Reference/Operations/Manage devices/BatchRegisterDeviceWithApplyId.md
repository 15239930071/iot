# BatchRegisterDeviceWithApplyId {#reference_iwr_frz_wdb .reference}

You can call this operation to register multiple devices by using the application ID \(ApplyId\).

## Limits {#section_g31_hdn_xdb .section}

The operation needs to be used in conjunction with the BatchCheckDeviceNames operation to enable registration of multiple devices with individually specified names under a product.

You should call the BatchCheckDeviceNames operation to set the names of devices that you want to register. After the device names that you submitted are validated, IoT Platform returns the application ID \(ApplyId\). You can then register these devices by calling the specified operation using the ApplyId.

If you want to register multiple devices under a product at a time with randomly generated device names, you can call the BatchRegisterDevice operation.

If you want to register a device individually under a product, you can call the RegisterDevice operation.

## Request parameters {#section_ojj_pdn_xdb .section}

|Name|Type|Required|Description|
|:---|:---|:-------|:----------|
|Action|String|Yes|The operation that you want to perform. Set the value to: BatchRegisterDeviceWithApplyId.|
|ProductKey|String|Yes|The identifier of the product for which you want to register devices.|
|ApplyId|Long|Yes|Application ID \(ApplyId\) of the devices to be registered. The ApplyId is returned by calling the BatchCheckDeviceNames operation.|

## Response parameters {#section_iv1_ydn_xdb .section}

|Name|Type|Description|
|:---|:---|:----------|
|RequestId|String|The GUID generated by Alibaba Cloud for the request.|
|Success|Boolean|Indicate whether the call is successful. A value of true indicates that the call is successful. A value of false indicates that the call has failed.|
|ErrorMessage|String|The error message returned when the call fails.|
|ApplyId|Long|The application ID \(ApplyId\) set for the request of registration.|

## Examples {#section_emq_f2n_xdb .section}

**Request example**

```
https://iot.cn-shanghai.aliyuncs.com/?Action=BatchRegisterDeviceWithApplyId
&ProductKey... S
&ApplyI... 1L
& <common request parameters>
```

**Response example**

-   JSON format

    ```
    {
      "RequestId":"57b144cf-09fc-4916-a272-a62902d5b207",
      "Success": true，
      "Data": {
        "ApplyId": 4416
      }
    }
    
    ```

-   XML format

    ```
    <? xml version='1.0' encoding='utf-8'? >
    <BatchRegisterDeviceWithApplyId>
        <RequestId>57b144cf-09fc-4916-a272-a62902d5b207</RequestId>
        <Success>true</Success>
        <Data>
            <ApplyId>4416</ApplyId>
        </Data>
    </BatchRegisterDeviceWithApplyId>
    ```


