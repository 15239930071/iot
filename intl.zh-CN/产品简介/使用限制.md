# 使用限制 {#concept_gyg_xrt_tdb .concept}

物联网平台使用限制如下：

|限制类别|描述|
|:---|:-|
|产品数量|单账号最多可以创建1000个产品。|
|设备数量|单个产品最多可以添加50万台设备。|
|网关与子设备| -   单个网关下最多添加1500个子设备。
-   单个网关下最多添加1000个子设备通道。

 |
|标签数量|单个产品、设备、分组最多分别可以添加100个标签。|
|数据解析脚本|数据解析上传的脚本文件大小不能超过48KB。|
|远程配置|远程配置文件，仅支持JSON格式，大小不能超过64KB。|
|功能定义（仅针对高级版产品）|单个产品可添加的功能上限为100个。|
|struct类的属性，可添加的参数不超过10个。|
| 当功能的数据类型：

 -   为enum时，枚举项最多不超过25个。
-   为text时，数据长度不超过1024字节。
-   为array时，数组内的元素不超过128个

 |
|服务中可添加的入参和出参分别不超过10个。|
|事件中可添加的出参不超过10个。|
|Topic类|一个产品最多可以定义50个Topic类。|
|广播Topic|同一个Topic最多可以被1000个设备订阅，服务端SDK每秒只可发一条广播。|
|Topic的长度|不能超过128字节。|
|协议包大小|CoAP协议包不能超过1K。|
|MQTT协议包不能超过256K。|
|通信|设备只能对自己的Topic进行消息发布与订阅。|
|设备订阅| 订阅和取消订阅都是操作10秒后生效，一次订阅永久生效。建议您提前订阅Topic以免漏失信息。

 示例：设备向Topic A发送SUB请求，10秒后，订阅生效，设备开始收到实时消息，除非取消订阅，设备将一直接收Topic A的消息。

 |
|规则引擎|单个账号最多可以设置1000条规则。|
|一条规则中转发数据的操作不能超过10个。|
|数据转发性能依赖所转发的云产品实例，在云产品实例性能足够的情况下，规则引擎为单个阿里云账号提供1000QPS的数据转发能力。即，子账号共享主账号配额；消息并发处理，每秒最多允许1000条消息经过规则引擎流转到其他云产品。 如果请求量超出该限制或云产品写入耗时超过1s，数据转发会被限流。|
|数据转发依赖其他云产品，使用时需确保目标云产品实例正常。目标云产品的实例宕机、欠费、参数错误（如授权变更、值非法）、配置错误等异常状况将会导致消息流转失败。|
|流量限制|单个设备的数据：-   上报上限QoS0为30条/秒，QoS1为10条/秒。
-   下行接收限制为50条/秒。
-   下行单设备最大带宽512K，同时受限于网络环境。如果网络tcp write buffer拥堵，将直接返回错误。比如，您通过Pub接口发指令给设备，如果设备接收不过来，将收到限流错误。

**说明：** MQTT的Pub上报消息限流，协议上是没有任何答应的。您可以通过日志服务发现设备被限流的警告。


云端API接口限制：

-   单个IP：默认单个IP入口调用API的限制是100QPS。
-   单个帐号：每个接口业务上有限流，比如 RRPC为500QPS，Pub 1500QPS，其它接口如无特别说明默认50QPS。

**说明：** 

-   若以上限制不满足您的业务需求，请提工单说明业务情况和所需额度。
-   若您调用接口收到限流报错，像[公共错误](https://error-center.alibabacloud.com/status/product/Public)中29-31类型报错，可以重新尝试调用。

|

